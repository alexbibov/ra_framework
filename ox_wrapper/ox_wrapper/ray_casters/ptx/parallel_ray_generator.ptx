//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-22781540
// Cuda compilation tools, release 9.0, V9.0.176
// Based on LLVM 3.4svn
//

.version 6.0
.target sm_50
.address_size 64

	// .globl	_Z15__ox_generate__v
.global .align 4 .b8 ox_entry_node[4];
.global .align 4 .u32 num_rays;
.global .align 4 .f32 emitter_position;
.global .align 4 .f32 emitter_size;
.global .align 4 .f32 emitter_rotation;
.global .align 4 .u32 num_spectra_supported;
.global .align 4 .u32 index;
.global .align 1 .b8 ox_output_buffer[1];
.global .align 1 .b8 ox_init_flux_buffer[1];
.global .align 4 .b8 _ZN21rti_internal_typeinfo13ox_entry_nodeE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo8num_raysE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo16emitter_positionE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo12emitter_sizeE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo16emitter_rotationE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo21num_spectra_supportedE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo5indexE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 8 .u64 _ZN21rti_internal_register20reg_bitness_detectorE;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail0E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail1E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail2E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail3E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail4E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail5E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail6E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail7E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail8E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail9E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail0E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail1E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail2E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail3E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail4E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail5E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail6E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail7E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail8E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail9E;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_xE;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_yE;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_zE;
.global .align 16 .b8 _ZN21rti_internal_typename13ox_entry_nodeE[9] = {114, 116, 79, 98, 106, 101, 99, 116, 0};
.global .align 16 .b8 _ZN21rti_internal_typename8num_raysE[13] = {117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 0};
.global .align 8 .b8 _ZN21rti_internal_typename16emitter_positionE[6] = {102, 108, 111, 97, 116, 0};
.global .align 8 .b8 _ZN21rti_internal_typename12emitter_sizeE[6] = {102, 108, 111, 97, 116, 0};
.global .align 8 .b8 _ZN21rti_internal_typename16emitter_rotationE[6] = {102, 108, 111, 97, 116, 0};
.global .align 16 .b8 _ZN21rti_internal_typename21num_spectra_supportedE[13] = {117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 0};
.global .align 16 .b8 _ZN21rti_internal_typename5indexE[13] = {117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 0};
.global .align 4 .u32 _ZN21rti_internal_typeenum13ox_entry_nodeE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum8num_raysE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum16emitter_positionE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum12emitter_sizeE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum16emitter_rotationE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum21num_spectra_supportedE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum5indexE = 4919;
.global .align 1 .b8 _ZN21rti_internal_semantic13ox_entry_nodeE[1];
.global .align 1 .b8 _ZN21rti_internal_semantic8num_raysE[1];
.global .align 1 .b8 _ZN21rti_internal_semantic16emitter_positionE[1];
.global .align 1 .b8 _ZN21rti_internal_semantic12emitter_sizeE[1];
.global .align 1 .b8 _ZN21rti_internal_semantic16emitter_rotationE[1];
.global .align 1 .b8 _ZN21rti_internal_semantic21num_spectra_supportedE[1];
.global .align 16 .b8 _ZN21rti_internal_semantic5indexE[14] = {114, 116, 76, 97, 117, 110, 99, 104, 73, 110, 100, 101, 120, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation13ox_entry_nodeE[19] = {34, 83, 99, 101, 110, 101, 32, 101, 110, 116, 114, 121, 32, 110, 111, 100, 101, 34, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation8num_raysE[24] = {34, 78, 117, 109, 98, 101, 114, 32, 111, 102, 32, 99, 97, 115, 116, 101, 100, 32, 114, 97, 121, 115, 34, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation16emitter_positionE[26] = {34, 80, 111, 115, 105, 116, 105, 111, 110, 32, 111, 102, 32, 116, 104, 101, 32, 101, 109, 105, 116, 116, 101, 114, 34, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation12emitter_sizeE[22] = {34, 83, 105, 122, 101, 32, 111, 102, 32, 116, 104, 101, 32, 101, 109, 105, 116, 116, 101, 114, 34, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation16emitter_rotationE[26] = {34, 82, 111, 116, 97, 116, 105, 111, 110, 32, 111, 102, 32, 116, 104, 101, 32, 101, 109, 105, 116, 116, 101, 114, 34, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation21num_spectra_supportedE[31] = {34, 78, 117, 109, 98, 101, 114, 32, 111, 102, 32, 119, 97, 118, 101, 108, 101, 110, 103, 116, 104, 115, 32, 105, 110, 32, 117, 115, 101, 34, 0};
.global .align 16 .b8 _ZN23rti_internal_annotation5indexE[15] = {34, 84, 104, 114, 101, 97, 100, 32, 105, 110, 100, 101, 120, 34, 0};

.visible .entry _Z15__ox_generate__v(

)
{
	.local .align 16 .b8 	__local_depot0[144];
	.reg .b64 	%SP;
	.reg .b64 	%SPL;
	.reg .pred 	%p<3>;
	.reg .f32 	%f<65>;
	.reg .b32 	%r<31>;
	.reg .b64 	%rd<40>;


	mov.u64 	%rd39, __local_depot0;
	cvta.local.u64 	%SP, %rd39;
	ld.global.f32 	%f5, [emitter_size];
	neg.ftz.f32 	%f6, %f5;
	mov.f32 	%f7, 0f40000000;
	div.approx.ftz.f32 	%f8, %f6, %f7;
	ld.global.u32 	%r7, [num_rays];
	add.s32 	%r8, %r7, -1;
	cvt.rn.f32.u32	%f9, %r8;
	div.approx.ftz.f32 	%f10, %f5, %f9;
	ld.global.u32 	%r29, [index];
	cvt.rn.f32.u32	%f11, %r29;
	fma.rn.ftz.f32 	%f12, %f10, %f11, %f8;
	ld.global.f32 	%f13, [emitter_rotation];
	cos.approx.ftz.f32 	%f1, %f13;
	sin.approx.ftz.f32 	%f2, %f13;
	mul.ftz.f32 	%f14, %f1, %f12;
	mul.ftz.f32 	%f15, %f2, 0f00000000;
	sub.ftz.f32 	%f3, %f14, %f15;
	mul.ftz.f32 	%f16, %f2, %f3;
	fma.rn.ftz.f32 	%f4, %f1, 0f00000000, %f16;
	ld.global.u32 	%r9, [num_spectra_supported];
	setp.eq.s32	%p1, %r9, 0;
	mov.u32 	%r30, 0;
	@%p1 bra 	BB0_3;
	bra.uni 	BB0_1;

BB0_2:
	ld.global.u32 	%r29, [index];

BB0_1:
	add.u64 	%rd7, %SP, 0;
	cvta.to.local.u64 	%rd8, %rd7;
	mul.wide.u32 	%rd9, %r30, 16;
	add.s64 	%rd10, %rd8, %rd9;
	shl.b32 	%r12, %r29, 2;
	cvt.u64.u32	%rd3, %r12;
	mov.u64 	%rd11, ox_init_flux_buffer;
	cvta.global.u64 	%rd2, %rd11;
	mov.u32 	%r10, 1;
	mov.u32 	%r11, 16;
	mov.u64 	%rd6, 0;
	// inline asm
	call (%rd1), _rt_buffer_get_64, (%rd2, %r10, %r11, %rd3, %rd6, %rd6, %rd6);
	// inline asm
	ld.v4.f32 	{%f17, %f18, %f19, %f20}, [%rd1];
	st.local.v4.f32 	[%rd10], {%f17, %f18, %f19, %f20};
	ld.global.u32 	%r13, [num_spectra_supported];
	mov.u32 	%r14, 4;
	min.u32 	%r15, %r14, %r13;
	add.s32 	%r30, %r30, 1;
	setp.ge.u32	%p2, %r30, %r15;
	@%p2 bra 	BB0_3;
	bra.uni 	BB0_2;

BB0_3:
	neg.ftz.f32 	%f28, %f2;
	mov.u32 	%r17, 0;
	add.u64 	%rd12, %SP, 64;
	cvta.to.local.u64 	%rd19, %rd12;
	st.local.v4.u32 	[%rd19+64], {%r17, %r17, %r17, %r17};
	mov.f32 	%f31, 0f00000000;
	st.local.v4.f32 	[%rd19+48], {%f31, %f31, %f31, %f31};
	st.local.v4.f32 	[%rd19+32], {%f31, %f31, %f31, %f31};
	st.local.v4.f32 	[%rd19+16], {%f31, %f31, %f31, %f31};
	st.local.v4.f32 	[%rd19], {%f31, %f31, %f31, %f31};
	add.u64 	%rd20, %SP, 0;
	cvta.to.local.u64 	%rd21, %rd20;
	ld.local.v2.u64 	{%rd22, %rd23}, [%rd21];
	st.local.v2.u64 	[%rd19], {%rd22, %rd23};
	ld.local.v2.u64 	{%rd26, %rd27}, [%rd21+16];
	st.local.v2.u64 	[%rd19+16], {%rd26, %rd27};
	ld.local.v2.u64 	{%rd30, %rd31}, [%rd21+32];
	st.local.v2.u64 	[%rd19+32], {%rd30, %rd31};
	ld.local.v2.u64 	{%rd34, %rd35}, [%rd21+48];
	st.local.v2.u64 	[%rd19+48], {%rd34, %rd35};
	st.local.v4.u32 	[%rd19+64], {%r17, %r17, %r17, %r17};
	ld.global.u32 	%r16, [ox_entry_node];
	mov.f32 	%f32, 0f6C4ECB8F;
	mov.u32 	%r20, 80;
	// inline asm
	call _rt_trace_64, (%r16, %f3, %f4, %f31, %f28, %f1, %f31, %r17, %f31, %f32, %rd12, %r20);
	// inline asm
	ld.global.u32 	%rd15, [index];
	mov.u64 	%rd38, ox_output_buffer;
	cvta.global.u64 	%rd14, %rd38;
	mov.u32 	%r19, 1;
	mov.u64 	%rd18, 0;
	// inline asm
	call (%rd13), _rt_buffer_get_64, (%rd14, %r19, %r20, %rd15, %rd18, %rd18, %rd18);
	// inline asm
	ld.local.v4.f32 	{%f33, %f34, %f35, %f36}, [%rd19];
	ld.local.v4.f32 	{%f37, %f38, %f39, %f40}, [%rd19+16];
	ld.local.v4.f32 	{%f41, %f42, %f43, %f44}, [%rd19+32];
	ld.local.v4.f32 	{%f45, %f46, %f47, %f48}, [%rd19+48];
	ld.local.v4.u32 	{%r21, %r22, %r23, %r24}, [%rd19+64];
	st.v4.u32 	[%rd13+64], {%r21, %r22, %r23, %r24};
	st.v4.f32 	[%rd13+48], {%f45, %f46, %f47, %f48};
	st.v4.f32 	[%rd13+32], {%f41, %f42, %f43, %f44};
	st.v4.f32 	[%rd13+16], {%f37, %f38, %f39, %f40};
	st.v4.f32 	[%rd13], {%f33, %f34, %f35, %f36};
	ret;
}


